"undefined"==typeof Object.create&&(Object.create=function(i){function e(){}return e.prototype=i,new e}),"undefined"==typeof String.prototype.nthIndexOf&&(String.prototype.nthIndexOf=function(i,e,r){var n,t,s,l=[],o=0;if(0===e)throw new TypeError("nthIndex cannot be 0 in String.nthIndexOf(searchValue, nthIndex, start)");for(n="undefined"==typeof r?-1:r-1,t=this.length;t>n;){if(n=this.indexOf(i,n+1),o+1===e)return n;if(-1===n)break;l[o++]=n}return 0>e&&(s=o+e,s>=0)?l[s]:-1});var getStackTrace=function(){var i=function(){return"undefined"!=typeof console?("undefined"==typeof console.debug&&(console.debug=console.log),console):{log:function(i){},info:function(i){},warn:function(i){},error:function(i){},debug:function(i){}}},e=new RegExp("^\\s+|\\s+$","g"),r=function(i){var r=Object.toString.call(i);return r=r.slice(r.indexOf("function")+8),callerName=r.slice(0,r.indexOf("(")).replace(e,""),0===callerName.length?"anonymous":callerName},n=new RegExp("^(?:\\s*at\\s?(.*)\\s|(.*)@)\\(?(.*):([1-9][0-9]*):([1-9][0-9]*)\\)?$"),t=function(i){var e,r=i.match(n);return null===r?null:(e="undefined"==typeof r[1]?r[2]:r[1],{invokedBy:""===e?"anonymous":e,file:r[3],line:r[4],column:r[5]})};return function(){var e,s,l,o,a,p=[],c=!0;try{var u;u.bar.baz=1}catch(m){if("undefined"!=typeof m.stack)for(c=!1,e=m.stack.split("\n"),o=null===e[0].match(n)?2:1,a=e.length;a>o&&0!==e[o].length;o++){if(l=t(e[o]),null===l){c=!0;break}"getStackTrace"!==l.invokedBy&&p.push(l)}if(c){i().error("[Warning] getStackTrace() running in compatibility mode");try{s=arguments.callee}catch(m){return i().error("[Warning] getStackTrace() compatibility mode cannot be run in strict mode"),null}for(;s.caller;)s=s.caller,p.push({invokedBy:r(s),file:void 0,line:void 0,column:void 0})}}return p}}(),simpli;!function(i){"use strict";var e=Object.prototype.toString,r=Object.prototype.hasOwnProperty,n="undefined"!=typeof window?window:i;simpli=function(){},simpli.version="1.2.0",simpli.console=function(){return simpli.isDefined(console)?(simpli.isDefined(console.debug)||(console.debug=console.log),console):{log:function(i){},info:function(i){},warn:function(i){},error:function(i){},debug:function(i){}}},simpli.forEachProperty=function(i,e){simpli.argc(arguments,["object","function"]);for(var n in i)r.call(i,n)&&e.call(i,n,i[n])},simpli.detailTypeOf=function(i){var e,r,n,t="array";if(simpli.isArray(i)){for(r=0,n=i.length;n>r;r++)"array"===t?t=simpli.getClass(i[r]):t!==simpli.getClass(i[r])&&(t="mixed");e=t+"["+i.length+"]"}else e=simpli.getClass(i);return e.toLowerCase()},simpli.getClass=function(r){var t=e.call(r);return r===i||r===n?"Global":t.slice(8,-1)},simpli.isA=function(i,e){if(!simpli.isString(e)&&!simpli.isFunction(e))throw new TypeError("Expected argument 2 to be 'string' or constructor, '"+simpli.detailTypeOf(className)+"' given");return simpli.isString(e)?simpli.getClass(i)===e:i instanceof e},simpli.isArguments=function(i){return simpli.isA(i,"Arguments")||!simpli.isA(arguments,"Arguments")&&simpli.isDefined(i)&&r.call(i,"callee")},simpli.argumentsToArray=function(i){var e,r,n=[];for(e=0,r=i.length;r>e;e++)n.push(i[e]);return n},simpli.isMixed=function(i){return"undefined"!=typeof i},simpli.isNull=function(i){return null===i},simpli.isDefined=function(i){return"undefined"!=typeof i},simpli.isDeepDefined=function(){var i,e,r,n=arguments.length;if(1>n)throw new TypeError("Expected argument 1 to have at least  one object, none given");for(i=arguments[0],r=1;n>r;r++)e=arguments[r]},simpli.isSet=function(i){return simpli.isDefined(i)&&!simpli.isNull(i)},simpli.isNaN=function(i){return i!==i},simpli.isObject=function(i){return"object"==typeof i&&!simpli.isArray(i)&&null!==i},simpli.isNumber=function(i){return"number"==typeof i},simpli.isFunction=function(i){return"function"==typeof i},simpli.isBoolean=function(i){return"boolean"==typeof i},simpli.isArray=function(i){var e=simpli.getClass(i);return"Array"===e?!0:"Array"!==simpli.getClass([])&&"Object"===e?simpli.isObject(i)&&simpli.isNumber(i.length):!1},simpli.isString=function(i){return"string"==typeof i},simpli.isInteger=function(i){return simpli.isNumber(i)&&i%1===0},simpli.isDecimal=function(i,e,r){var n,t=!1,s=!1;if(!simpli.isNumber(i))return!1;if(n=(i+"").split("."),simpli.isDefined(e)&&(t=!0,!simpli.isInteger(e)))throw new TypeError("Expected argument 2 to be 'integer', '"+simpli.detailTypeOf(e)+"' given");if(simpli.isDefined(r)&&2===n.length&&(s=!0,!simpli.isInteger(r)))throw new TypeError("Expected argument 3 to be 'integer', '"+simpli.detailTypeOf(r)+"' given");return t||s?(t?n[0].length===e:!0)&&(s?2===n.length?n[1].length===r:!1:!0):!0},simpli.isChar=function(i){return simpli.isString(i)&&1===i.length},simpli.isObjectArray=function(i,e){var r,n;if(!simpli.isArray(i))return!1;if(n=i.length,simpli.isDefined(e)){if(!simpli.isInteger(e))throw new TypeError("Expected arugment 2 to be 'interger', '"+simpli.detailTypeOf(e)+"' given");if(n!==e)return!1}for(r=0;n>r;r++)if(!simpli.isObject(i[r]))return!1;return!0},simpli.isNumberArray=function(i,e){var r,n;if(!simpli.isArray(i))return!1;if(n=i.length,simpli.isDefined(e)){if(!simpli.isInteger(e))throw new TypeError("Expected arugment 2 to be 'interger', '"+simpli.detailTypeOf(e)+"' given");if(n!==e)return!1}for(r=0;n>r;r++)if(!simpli.isNumber(i[r]))return!1;return!0},simpli.isFunctionArray=function(i,e){var r,n;if(!simpli.isArray(i))return!1;if(n=i.length,simpli.isDefined(e)){if(!simpli.isInteger(e))throw new TypeError("Expected arugment 2 to be 'interger', '"+simpli.detailTypeOf(e)+"' given");if(n!==e)return!1}for(r=0;n>r;r++)if(!simpli.isFunction(i[r]))return!1;return!0},simpli.isBooleanArray=function(i,e){var r,n;if(!simpli.isArray(i))return!1;if(n=i.length,simpli.isDefined(e)){if(!simpli.isInteger(e))throw new TypeError("Expected arugment 2 to be 'interger', '"+simpli.detailTypeOf(e)+"' given");if(n!==e)return!1}for(r=0;n>r;r++)if(!simpli.isBoolean(i[r]))return!1;return!0},simpli.isIntegerArray=function(i,e){var r,n;if(!simpli.isArray(i))return!1;if(n=i.length,simpli.isDefined(e)){if(!simpli.isInteger(e))throw new TypeError("Expected arugment 2 to be 'interger', '"+simpli.detailTypeOf(e)+"' given");if(n!==e)return!1}for(r=0;n>r;r++)if(!simpli.isInteger(i[r]))return!1;return!0},simpli.isDecimalArray=simpli.isNumberArray,simpli.isStringArray=function(i,e){var r,n;if(!simpli.isArray(i))return!1;if(n=i.length,simpli.isDefined(e)){if(!simpli.isInteger(e))throw new TypeError("Expected arugment 2 to be 'interger', '"+simpli.detailTypeOf(e)+"' given");if(n!==e)return!1}for(r=0;n>r;r++)if(!simpli.isString(i[r]))return!1;return!0};var t={};t.isType=function(i,e,r){switch(e){case"*":return simpli.isMixed(i);case"array":return simpli.isArray(i);case"null":return simpli.isNull(i);case"object":return simpli.isObject(i);case"number":return simpli.isNumber(i);case"boolean":case"bool":return simpli.isBoolean(i);case"function":return simpli.isFunction(i);case"string":return simpli.isString(i);default:if(simpli.argc.mode()!==simpli.argc.MODE_EXTEND)throw new TypeError("Extend data type are not supported in Strict mode");switch(e){case"mixed":return simpli.isMixed(i);case"integer":case"int":return simpli.isInteger(i);case"decimal":case"float":case"double":return simpli.isDecimal(i);case"char":return simpli.isChar(i);case"mixed[]":return simpli.isArray(i,r);case"object[]":return simpli.isObjectArray(i,r);case"number[]":return simpli.isNumberArray(i,r);case"boolean[]":case"bool[]":return simpli.isBooleanArray(i,r);case"string[]":return simpli.isStringArray(i,r);case"integer[]":case"int[]":return simpli.isIntegerArray(i,r);case"decimal[]":case"float[]":case"double[]":return simpli.isDecimalArray(i,r);case"function[]":return simpli.isFunctionArray(i,r);case"char[]":if(!simpli.isString(i))return!1;if(simpli.isDefined(r))return i.length===r}}},t.typeRegEx=new RegExp("^(\\*|array|null|(mixed|object|number|boolean|bool|function|string|integer|int|decimal|float|double|char)(?:\\[([1-9][0-9]*)?\\])?)$"),t.checkArg=function(i,e,r){var n,s,l,o,a,p=e.length,c=!1;for(r&&!simpli.isDefined(i)&&(c=!0),n=0;p>n;n++){if(l=e[n],s=l.match(t.typeRegEx),null===s)throw new TypeError("Unrecognized data type '"+l+"'");c||(simpli.isDefined(s[3])&&""!==s[3]?(o=s[2]+"[]",a=parseInt(s[3])):(o=s[1],a=void 0),t.isType(i,o,a)&&(c=!0))}return c},t.setCallbackArg=function(i,e,r,n,t,s,l){i.arguments[e].valid=r,i.arguments[e].value=n,i.arguments[e].expected=t||"",i.arguments[e].given=s||"",i.arguments[e].error=l||""},t.invalidHandler=function(i,r,n,t,s,l,o){var a,p,c,u,m,f,g,d,y,E,h,b,T="";for(i.type==simpli.argc.UNEXPECTED_DATATYPE?(u="Expected '"+i.expected+"', '"+i.given+"' given",m=i.index):i.type==simpli.argc.MISMATCH_ARGNUMBER&&(u="Argument number mismatch, expected "+(s?"at least ":"")+t+" arugment(s), "+n.length+" given",m=-1),a=0,p=n.length,f="";p>a;)g=simpli.isString(n[a])?'"'+n[a]+'"':simpli.isNumber(n[a])?n[a]:e.call(n[a]),f+=a===i.index?"-->"+g+"<--":g,++a<p&&(f+=", ");if(d=getStackTrace(),!simpli.isNull(d))for(y=!1,a=0,p=d.length;p>a;a++)if(d[a].invokedBy===r||d[a].invokedBy==="Function."+r){y=!0,c=a+1,E=d[c].file,h=d[c].line,b=d[c].column,T+=r+"("+f+"): "+u+" in "+E+" on line "+h,o.invokedBy=r,o.file=E,o.line=h,o.column=b;break}if((simpli.isNull(d)||!y)&&(T+=r+"("+f+"): "+u),o.message=T,simpli.isDefined(l)&&l.call(null,o),simpli.argc.errorMode()===simpli.argc.ERRMODE_ERROR)throw new TypeError(T)},t.optionalRegEx=/^\[.+\]$/,t.MismatchArgNumber=function(){return{type:simpli.argc.MISMATCH_ARGNUMBER,index:-1,expected:"",given:""}},t.UnexpectedDataType=function(i,e,r){return{type:simpli.argc.UNEXPECTED_DATATYPE,index:i,expected:e.join(", "),given:simpli.detailTypeOf(r)}},simpli.argc=function(i){var e,r,n,s,l,o,a,p,c,u,m,f,g,d,y,E,h=simpli.argumentsToArray(arguments),b=h.length,T=null,v={arguments:[],message:"",invokedBy:"",file:"",line:"",column:""},A=!1;if(!simpli.isArguments(i))throw new TypeError("Expects argument 1 to be 'Arguments' object, '"+simpli.detailTypeOf(i)+"' given");if(simpli.isFunction(h[b-1])&&(r=h[b-1],h.pop(),b--),h.length>2||2===h.length&&simpli.isString(h[1]))e=h,e.shift();else if(e=h[1],simpli.isDefined(e)&&!simpli.isArray(e))throw new TypeError("Expects argument 2 to be 'array' or 'string', '"+simpli.detailTypeOf(e)+"' given");for(a=i.length,p=simpli.isDefined(e)?e.length:0,n=0;a>n;n++)v.arguments.push({valid:!0,value:null,expected:"",given:"",error:""});for(s=0,l=0;p>s;s++){if(c=e[s],!simpli.isString(c))throw new TypeError("Expects signature to be 'string', '"+simpli.detailTypeOf(c)+"' given");if(t.optionalRegEx.test(c)?(u=!0,c=c.slice(1,-1)):(u=!1,s>a-1&&simpli.isNull(T)&&T.push(t.MismatchArgNumber())),"..."===c.slice(0,3)){if(A)throw new TypeError("There can only be one repeatable argument in a function");m=a-(p-s-1),A=!0,c=c.slice(3)}if(f=c.split("|"),m>l)for(;m>l;)t.checkArg(i[l],f,u)||(o=t.UnexpectedDataType(l,f,i[l]),simpli.isNull(T)&&(T=o),t.setCallbackArg(v,l,!1,i[l],o.expected,o.given,o.type)),l++;else t.checkArg(i[l],f,u)?(!u||u&&simpli.isDefined(i[l]))&&t.setCallbackArg(v,l,!0,i[l]):(o=t.UnexpectedDataType(l,f,i[l]),simpli.isNull(T)&&(T=o),t.setCallbackArg(v,l,!1,i[l],o.expected,o.given,o.type)),l++}if(a>l)for(o=t.MismatchArgNumber(),simpli.isNull(T)&&(T=t.MismatchArgNumber()),n=l;a>n;n++)t.setCallbackArg(v,n,!1,i[n],"","",o.type);if(simpli.isNull(T))return!0;if(g=getStackTrace(),!simpli.isNull(g))for(y=!1,d=g.length,n=0;d>n;n++)("simpli.argc"===g[n].invokedBy||"Function.simpli.argc"===g[n].invokedBy)&&(y=!0,E=g[n+1].invokedBy);return(simpli.isNull(g)||!y)&&(E="function"),t.invalidHandler(T,E,i,p,A,r,v),!1},simpli.argc.UNEXPECTED_DATATYPE="{UNEXPECTED_DATATYPE}",simpli.argc.MISMATCH_ARGNUMBER="{MISMATCH_ARGNUMBER}",simpli.argc.MODE_STRICT="{MODE_STRICT}",simpli.argc.MODE_EXTEND="{MODE_EXTEND}",simpli.argc.mode=function(i){if(simpli.isDefined(i)){if(i!==simpli.argc.MODE_STRICT&&i!==simpli.argc.MODE_EXTEND)throw new TypeError("Unrecognized mode '"+i+"'");t.mode=i}return t.mode},simpli.argc.ERRMODE_ERROR="{ERRMODE_ERROR}",simpli.argc.ERRMODE_SILENT="{ERRMODE_SILENT}",simpli.argc.errorMode=function(i){if(simpli.isDefined(i)){if(i!==simpli.argc.ERRMODE_ERROR&&i!==simpli.argc.ERRMODE_SILENT)throw new TypeError("Unrecognized error mode '"+i+"'");t.errorMode=i}return t.errorMode},simpli.argc.mode(simpli.argc.MODE_EXTEND),simpli.argc.errorMode(simpli.argc.ERRMODE_ERROR)}("undefined"==typeof window?global:window);